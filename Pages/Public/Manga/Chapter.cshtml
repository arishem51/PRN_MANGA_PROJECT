@page "{chapterId:int}"
@model PRN_MANGA_PROJECT.Pages.Public.Manga.ChapterModel
@{
}

@section Styles {
	<link rel="stylesheet" href="~/css/Comment.css" />
}
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

<div>
	<h1>@Model.Chapter.Title</h1>
	
	@if (Model.ChapterImages != null && Model.ChapterImages.Any())
	{
		<div class="chapter-images">
			@foreach (var image in Model.ChapterImages)
			{
				<div class="chapter-image-container mb-3">
					<img src="@image.ImageUrl" alt="Chapter Image @image.PageNumber" class="img-fluid" style="max-width: 100%; height: auto;" />
				</div>
			}
		</div>
	}
	else if (!string.IsNullOrEmpty(Model.Chapter.Content))
	{
		<div class="chapter-content">
			@Html.Raw(Model.Chapter.Content)
		</div>
	}
	else
	{
		<div class="alert alert-warning">
			<p>Không có nội dung hoặc hình ảnh cho chapter này.</p>
		</div>
	}
</div>

<form method="post" asp-page-handler="Comment">
	<div class="panel">
		<div class="panel-body">
			<input type="hidden" asp-for="Input.ChapterId" value="@Model.Chapter.Id" />
			<textarea class="form-control" rows="2" placeholder="What are you thinking?" asp-for="Input.Content"></textarea>
			<div class="mar-top clearfix">
				<button class="btn btn-sm btn-primary pull-right" type="submit"><i class="fa fa-pencil fa-fw"></i> Share</button>
				<a class="btn btn-trans btn-icon fa fa-video-camera add-tooltip" href="#"></a>
				<a class="btn btn-trans btn-icon fa fa-camera add-tooltip" href="#"></a>
				<a class="btn btn-trans btn-icon fa fa-file add-tooltip" href="#"></a>
			</div>
		</div>
	</div>
</form>


<partial name="~/Pages/Shared/Partial/_CommentPartial.cshtml" model="@Model.Comments"/>